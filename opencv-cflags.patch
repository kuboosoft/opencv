--- OpenCV-2.1.0/CMakeLists.txt~	2010-08-13 12:44:23.367365865 +0200
+++ OpenCV-2.1.0/CMakeLists.txt	2010-08-13 12:47:51.710667315 +0200
@@ -708,6 +708,8 @@
 set(EXTRA_EXE_LINKER_FLAGS_RELEASE "")
 set(EXTRA_EXE_LINKER_FLAGS_DEBUG "")
 
+set(EXTRA_C_FLAGS "${EXTRA_C_FLAGS} -D__STDC_CONSTANT_MACROS")
+
 if(MSVC)
     set(EXTRA_C_FLAGS "${EXTRA_C_FLAGS} /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS")
     # 64-bit portability warnings, in MSVC8
@@ -916,16 +918,6 @@
         set(EXTRA_C_FLAGS "${EXTRA_C_FLAGS} -Werror")
     endif()
 
-    if(X86)
-        if(NOT MINGW64)
-            if(NOT X86_64)
-                if(NOT APPLE)
-                    set(EXTRA_C_FLAGS "${EXTRA_C_FLAGS} -march=i686")
-                endif()
-            endif()
-        endif()
-    endif()
-
     # Other optimizations
     if(USE_OMIT_FRAME_POINTER)
         set(EXTRA_C_FLAGS_RELEASE "${EXTRA_C_FLAGS_RELEASE} -fomit-frame-pointer")
