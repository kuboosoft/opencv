diff -ur OpenCV-2.4.2.orig//cmake/OpenCVCompilerOptions.cmake OpenCV-2.4.2/cmake/OpenCVCompilerOptions.cmake
--- OpenCV-2.4.2.orig//cmake/OpenCVCompilerOptions.cmake	2012-07-09 23:40:12.980147858 +0000
+++ OpenCV-2.4.2/cmake/OpenCVCompilerOptions.cmake	2012-07-09 23:46:59.773180868 +0000
@@ -47,6 +47,8 @@
   endif()
 endmacro()
 
+add_extra_compiler_option(-D__STDC_CONSTANT_MACROS)
+
 if(MINGW)
   # http://gcc.gnu.org/bugzilla/show_bug.cgi?id=40838
   # here we are trying to workaround the problem
@@ -105,10 +107,6 @@
     add_extra_compiler_option(-Werror)
   endif()
 
-  if(X86 AND NOT MINGW64 AND NOT X86_64 AND NOT APPLE)
-    add_extra_compiler_option(-march=i686)
-  endif()
-
   # Other optimizations
   if(ENABLE_OMIT_FRAME_POINTER)
     add_extra_compiler_option(-fomit-frame-pointer)
